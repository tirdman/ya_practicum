Ответы на Тестовое задание для наставника курса Data Engineer

Задание 3 

Используя API [exchangerate.host](https://exchangerate.host/), подготовьте ETL процесс с помощью Airflow на Python для выгрузки данных по валютной паре BTC/USD (Биткоин к доллару). 
Выгружать следует с шагом 3 часа и записывать данные в БД (валютная пара, дата, текущий курс).
В качестве задания со звёздочкой можете учесть вариант заполнения базы историческими данными (API предоставляет специальный endpoint для выгрузки исторических данных).

Инструкция

1) Создание сервиса

Перейти в директорию currency_service
Создать docker-образ сервиса
```
docker build . -t currency_rate
```

2) Создание компонентов Airflow и базы данных выгрузки результатов

Перейти в директорию airflow_and_db

Создать контейнеры:
1) Компоненты AIrflow
2) docker-proxy для запуска контейнера из докер-контейнера локально
3) Отдельный инстанс Postgres для сохранения результатов (должен быть отдельно, но для простоты так)
```
docker-compose up -d 
```

Запуск миграции подготовки объектов db для дальнейшего сохранения результатов
```
docker exec -u postgres airflow_and_db-db-dwh-1 psql -U postgres -f /migration.sql
```


